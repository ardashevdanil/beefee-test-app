(this["webpackJsonpbeejee-test-app"]=this["webpackJsonpbeejee-test-app"]||[]).push([[0],{35:function(e,t,n){e.exports=n(63)},63:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(18),l=n.n(o),u=n(11),s=n.n(u),i=n(3),p=n(9),m=n(33),b=n(6),d=function(e){var t=e.onChange,n=e.name;return c.a.createElement("select",{onChange:t,"data-type":n},c.a.createElement("option",null,"asc"),c.a.createElement("option",null,"desc"))},f=n(7),E=n.n(f),O=n(16),j=n(66),h=n(64),v=n(65),y="Danil_Ardashev";function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=Object(j.a)("FETCH_TASKS_REQUEST"),w=Object(j.a)("FETCH_TASKS_SUCCESS"),T=Object(j.a)("FETCH_TASKS_FAILURE"),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(O.a)(E.a.mark((function t(n){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(g()),t.prev=1,t.next=4,s()("/",{params:S({developer:y},e)});case 4:"error"===(a=t.sent).data.status?n(T(a.data)):n(w(a.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(T(t.t0.response));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},_=Object(j.a)("ADD_TASK_REQUEST"),P=Object(j.a)("ADD_TASK_SUCCESS"),D=Object(j.a)("ADD_TASK_FAILURE"),C=Object(j.a)("EDIT_TASK_REQUEST"),A=Object(j.a)("EDIT_TASK_SUCCESS"),U=Object(j.a)("EDIT_TASK_FAILURE"),L=Object(h.a)((a={},Object(b.a)(a,w,(function(e,t){return{data:t.payload.message,error:null}})),Object(b.a)(a,Object(v.a)(T,D,U),(function(e,t){return S({},e,{error:t.payload.message})})),a),{data:{tasks:[],total_task_count:0},error:null});function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K,R=function(e){var t=e.setSelectedTask,n=Object(i.c)((function(e){return[e.auth.token,e.tasks.data.tasks,Math.ceil(e.tasks.data.total_task_count/3)+1,e.tasks.error]})),a=Object(p.a)(n,4),o=a[0],l=a[1],u=a[2],s=a[3],b=Object(r.useState)({}),f=Object(p.a)(b,2),E=f[0],O=f[1],j=Object(i.b)(),h=function(e){O(F({},E,{sort_field:e.target.dataset.type,sort_direction:e.target.value}))};return Object(r.useEffect)((function(){j(x(E))}),[j,E]),s?c.a.createElement("div",null,"Error: ",Object.keys(s).map((function(e){return s[e]})).join(", ")):c.a.createElement("div",null,c.a.createElement("h3",null,"Tasks:"),c.a.createElement("table",{border:"1",cellPadding:"10"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"User name\xa0",c.a.createElement(d,{name:"username",onChange:h})),c.a.createElement("th",null,"Email",c.a.createElement(d,{name:"email",onChange:h})),c.a.createElement("th",null,"Text"),c.a.createElement("th",null,"Status",c.a.createElement(d,{name:"status",onChange:h}))),l.length?l.map((function(e){return c.a.createElement("tr",{key:e.id,onClick:function(){return o?t(e.id):null},style:{cursor:o?"pointer":"initial"}},c.a.createElement("td",null,e.username),c.a.createElement("td",null,e.email),c.a.createElement("td",null,e.text),c.a.createElement("td",null,10===e.status?"Done":"Todo"))})):null)),c.a.createElement("div",null,"Pages:\xa0",u?Object(m.a)(Array(u).keys()).slice(1).map((function(e){return c.a.createElement("button",{key:e,onClick:function(){O(F({},E,{page:e}))},type:"button",style:{color:e===E.page&&"red"}},e)})):null))},q=n(5);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Q=Object(j.a)("LOGIN_REQUEST"),H=Object(j.a)("LOGIN_SUCCESS"),N=Object(j.a)("LOGIN_FAILURE"),B=Object(j.a)("LOGOUT"),J={token:null,error:null},W=Object(h.a)((K={},Object(b.a)(K,H,(function(e,t){return{token:t.payload.message.token,error:null}})),Object(b.a)(K,N,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{error:t.payload.message})})),Object(b.a)(K,B,(function(){return J})),K),J),M=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return[e.auth.error,e.auth.token]})),n=Object(p.a)(t,2),a=n[0];return n[1]?c.a.createElement("button",{type:"button",onClick:function(t){return e(B(t))}},"Logout"):c.a.createElement(q.b,{onSubmit:function(t){return e((n=t,function(){var e=Object(O.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Q(n)),a=new FormData,Object.keys(n).forEach((function(e){a.append(e,n[e])})),e.prev=3,e.next=6,s.a.post("/login?developer=".concat(y),a);case 6:"error"===(r=e.sent).data.status?t(N(r.data)):t(H(r.data)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t(N(e.t0.response));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()));var n},render:function(e){var t=e.handleSubmit;return c.a.createElement("form",{onSubmit:t},c.a.createElement("h3",null,"Login"),c.a.createElement(q.a,{name:"username",placeholder:"User name",component:"input",type:"text",required:!0}),c.a.createElement(q.a,{name:"password",placeholder:"Password",component:"input",type:"password",required:!0}),c.a.createElement("button",{type:"submit"},"Login"),a&&c.a.createElement("div",null,"Error: ",Object.keys(a).map((function(e){return a[e]})).join(", ")))}})},V=function(e){var t=e.selectedTask,n=Object(i.b)(),a=Object(i.c)((function(e){return[e.tasks.data.tasks.find((function(e){return t===e.id}))]})),r=Object(p.a)(a,1)[0];return c.a.createElement(q.b,{onSubmit:function(e){return n(function(e){var t=e.values,n=e.id;return function(){var e=Object(O.a)(E.a.mark((function e(a,r){var c,o,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(C()),c=r().auth.token,(o=new FormData).append("token",c),Object.keys(t).forEach((function(e){o.append(e,t[e])})),e.prev=5,e.next=8,s.a.post("/edit/".concat(n,"?developer=").concat(y),o);case 8:"error"===(l=e.sent).data.status?a(U(l.data)):(a(A(l.data)),a(x())),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),a(U(e.t0.response));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}({values:e,id:t}))},initialValues:r,render:function(e){var t=e.handleSubmit;return c.a.createElement("form",{onSubmit:t},c.a.createElement("h3",null,"Edit task"),c.a.createElement("label",null,c.a.createElement(q.a,{name:"text",placeholder:"Text",component:"textarea",required:!0}),"- Text"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("label",null,c.a.createElement(q.a,{name:"status",type:"checkbox",parse:function(e){return e?10:0},render:function(e){var t=e.input;return c.a.createElement("input",{type:"checkbox",value:t.value,checked:10===t.value,onChange:t.onChange})}}),"Status"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"submit"},"Edit"))}})},$=function(){var e=Object(i.b)();return c.a.createElement(q.b,{onSubmit:function(t){return e((n=t,function(){var e=Object(O.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_()),a=new FormData,Object.keys(n).forEach((function(e){a.append(e,n[e])})),e.prev=3,e.next=6,s.a.post("/create?developer=".concat(y),a);case 6:"error"===(r=e.sent).data.status?t(D(r.data)):(t(P(r.data)),t(x())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t(D(e.t0.response));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()));var n},render:function(e){var t=e.handleSubmit;return c.a.createElement("form",{onSubmit:t},c.a.createElement("h3",null,"Add task"),c.a.createElement("label",null,c.a.createElement(q.a,{name:"username",placeholder:"User name",component:"input",type:"text",required:!0}),"- User name"),c.a.createElement("br",null),c.a.createElement("label",null,c.a.createElement(q.a,{name:"email",placeholder:"Email",component:"input",type:"email",required:!0}),"- Email"),c.a.createElement("br",null),c.a.createElement("label",null,c.a.createElement(q.a,{name:"text",placeholder:"Text",component:"textarea",required:!0}),"- Text"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"submit"},"Add"))}})},z=n(13),X=n(32),Y=Object(z.c)({tasks:L,auth:W});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.defaults.baseURL="https://uxcandy.com/~shapoval/test-task-backend/v2";var Z=function(){var e=(0,z.d)(Object(z.a)(X.a));return Object(z.e)(Y,e)}();l.a.render(c.a.createElement(i.a,{store:Z},c.a.createElement((function(){var e=Object(r.useState)(0),t=Object(p.a)(e,2),n=t[0],a=t[1],o=Object(i.c)((function(e){return e.auth.token}));return c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(R,{setSelectedTask:a}),o&&n?c.a.createElement(V,{selectedTask:n}):null,c.a.createElement($,null))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.d980df91.chunk.js.map